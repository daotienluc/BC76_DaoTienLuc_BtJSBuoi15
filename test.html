<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tính Hóa Đơn Cáp</title>
    <style>
      .hidden {
        display: none;
      }
    </style>
  </head>
  <body>
    <h1>Tính Hóa Đơn Cáp</h1>
    <form id="billingForm">
      <label for="customerId">Mã Khách Hàng:</label
      ><input type="text" id="customerId" required /><br /><br /><label
        for="customerType"
        >Loại Khách Hàng:</label
      ><select id="customerType" required>
        <option value="residential">Nhà dân</option>
        <option value="business">Doanh nghiệp</option></select
      ><br /><br />
      <div id="connectionField" class="hidden">
        <label for="connections">Số Kết Nối:</label
        ><input type="number" id="connections" min="0" /><br /><br />
      </div>
      <label for="premiumChannels">Số Kênh Cao Cấp:</label
      ><input
        type="number"
        id="premiumChannels"
        min="0"
        required
      /><br /><br /><button type="button" onclick="calculateBill()">
        Tính Hóa Đơn
      </button>
    </form>
    <h2>Hóa Đơn:</h2>
    <p id="result"></p>
    <script>
      document.getElementById('customerType').addEventListener('change', function() {
          const customerType = this.value;
          const connectionField = document.getElementById('connectionField');
          if (customerType === 'business') {
              connectionField.classList.remove('hidden');
          } else {
              connectionField.classList.add('hidden');
          }
      });

      functioncalculateBill() {
          const customerType = document.getElementById('customerType').value;
          const premiumChannels = parseInt(document.getElementById('premiumChannels').value) || 0;
          let totalBill = 0;

          if (customerType === 'residential') {
              totalBill = 4.5 + 20.5 + (7.5 * premiumChannels);
          } elseif (customerType === 'business') {
              const connections = parseInt(document.getElementById('connections').value) || 0;
              const basicServiceFee = 75 + (connections > 10 ? (connections - 10) * 5 : 0);
              totalBill = 15 + basicServiceFee + (50 * premiumChannels);
          }

          document.getElementById('result').innerText = `Tổng số tiền cần thanh toán là: $${totalBill.toFixed(2)}`;
      }
    </script>
  </body>
</html>
